{% set cur_page = 'manageevents' %}
{% extends 'body.twig' %}
{% block content %}
{% if cur_user.right == "GESTIONNAIRE" or cur_user.right == "ADMIN"%}
<div class="row">
  {# PARTIE SESSIONS ******************************************************************** #}
  <div class="span6" id="session">
    <a class="btn btn-primary" data-toggle="modal" href="#addSessionModal">Ajouter une session</a>
    <a class="btn btn-danger" href="#">Supprimer</a><br /><br />
    <h5>Cliquez sur le nom d'une session pour voir/modifier ses détails</h5>
    <table class="table table-condensed well">
      <thead>
        <tr>
          <th><label class="checkbox inline"><input type="checkbox" id="checkboxAll"></label></th>
          <th>Nom</th>
          <th>Evenements</th>
        </tr>
      </thead>
      <tbody>          
        {% for session in sessions %}
        <tr id="session-{{ session.idsession }}">
          <td><label class="checkbox inline"><input type="checkbox"/></label></td>
          <td><a href="#">{{ session.nomsession }}</a></td>
          <td><a href="#" class="voir">Voir &raquo;</a></td>
          {#<div class="ajaxCont modal fade" id="modal-{{ session.idsession }}">
            <div class="modal-header">
              <button class="close" data-dismiss="modal">×</button>
              <h3>{{ session.nomsession }}</h3>
            </div>
            <div class="modal-body">
              <ul>
                <li>Créé par {{ [session.prenomcreateur,session.nomcreateur]|join(' ') }}</li>
              </ul>
            </div>
            <div class="modal-footer">
              <a href="#" class="btn" data-dismiss="modal">Close</a>
          </div>#}
        </tr>
        {% endfor %}          
      </tbody>
    </table>
  </div>
  {# PARTIE EVENTS ********************************************************************** #}
  <div class="hide span6" id="events">
    <a class="btn btn-primary" data-toggle="modal" href="#">Ajouter un évènement</a>
    <a class="btn btn-success" data-toggle="modal" href="#">Importer des évènements</a>
    <a class="btn btn-danger" href="#">Supprimer</a><br /><br />
    <h5>Cliquez sur le nom d'un évènement pour voir/modifier ses détails</h5>
    <table class="table table-condensed well">
      <thead>
        <tr>
          <th><label class="checkbox inline"><input type="checkbox" id="checkboxAll"></label></th>
          <th>Nom</th>
          <th>Emplacement</th>
        </tr>
      </thead>
      <tbody>          
        {#% for event in session %
        <tr id="event-{#{ event.idevent }">
          <td><label class="checkbox inline"><input type="checkbox"/></label></td>
          <td><a href="#">{#{ event.nomevent }</a></td>
          <td><a href="#">{#{ event.emplacementEvenement }</a></td>
        </tr>
        % endfor %#}          
      </tbody>
    </table>
  </div>
</div>
{# MODAL AJOUT SESSIONS ***************************************************************** #}
<div class="modal fade" id="addSessionModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>Ajouter une session</h3>
  </div>
  <div class="modal-body">
    <form class="form-horizontal" method="POST" action="#">
      <div class="control-group">
        <label class="control-label" for="input_sessionName">Nom de la session</label>
        <div class="controls">
          <input type="text" class="input-xlarge" id="input_sessionName" value="" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input_dest">Destinataires</label>
        <div class="controls">
          <input type="text" class="input-xlarge" id="input_dest" value="" />
        </div>
      </div>
      <legend>Options supplémentaires</legend>
      <div class="control-group">
        <label class="control-label" for="input_sizeEvent">Maximum d'inscrits par évènements</label>
        <div class="controls">
          <input type="text" class="input-mini" id="input_sizeEvent" value="" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input_minEvent">Minimum d'inscriptions</label>
        <div class="controls">
          <input type="text" class="input-mini" id="input_minEvent" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input_dateExp">Date limite d'inscription</label>
        <div class="controls">
          <input type="text" class="input-large" id="input_dateExp" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input_dateMail">Date du rappel par mail</label>
        <div class="controls">
          <input type="text" class="input-large" id="input_dateMail" />
        </div>
      </div> 
    </div>
    <div class="modal-footer">
      <a href="#" class="btn" data-dismiss="modal">Annuler</a>
      <button type="submit" class="btn btn-primary">Ajouter</button>
    </div>
    </form>    
  </div>
</div>
{# FIN MODAL ************************************************************** #}
{% endif %}
{% endblock %}
